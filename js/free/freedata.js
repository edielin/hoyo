
// var data_alisan_cir =  [{'cx':"58.618", 'cy':"378.944", 'r':"15", 'station':'嘉義'},
//                         {'cx':"68.618", 'cy':"349.209", 'r':"10", 'station':'北門'},
//                         {'cx':"118.657", 'cy':"278.909", 'r':"10", 'station':'竹崎'},
//                         {'cx':"206.084", 'cy':"195.341", 'r':"10", 'station':'交力坪'},
//                         {'cx':"263.866", 'cy':"176", 'r':"15", 'station':'奮起湖'},
//                         {'cx':"409.639", 'cy':"74.155", 'r':"10", 'station':'神木'},
//                         {'cx':"429.639", 'cy':"101.156", 'r':"10", 'station':'阿里山'},
//                         {'cx':"443.114", 'cy':"66.096", 'r':"10", 'station':'沼平'},
//                         {'cx':"475.704", 'cy':"69.977", 'r':"10", 'station':'祝山'}];

// var data_alisan_line = [{'x1':"62.594", 'y1':"364.479", 'x2':"64.689", 'y2':"358.406"},
//                         {'x1':"72.438", 'y1':"339.966", 'x2':"112.769", 'y2':"286.978"},
//                         {'x1':"416.68", 'y1':"81.251", 'x2':"424.292", 'y2':"92.715"},
//                         {'x1':"434.985", 'y1':"92.715", 'x2':"440.09", 'y2':"75.629"},
//                         {'x1':"124.354", 'y1':"270.695", 'x2':"197.508", 'y2':"200.465"},
//                         {'x1':"215.242", 'y1':"191.324", 'x2':"250.018", 'y2':"181.771"},
//                         {'x1':"453.114", 'y1':"67.294", 'x2':"465.747", 'y2':"69.056"},
//                         {'x1':"276.673", 'y1':"168.187", 'x2':"401.519", 'y2':"79.976", 'strokeDasharray':12}];

// var data_gigi_cir = [{'cx':"49.618", 'cy':"237.502", 'r':"15", 'station': '二水'},
//                      {'cx':"122.755", 'cy':"301.621", 'r':"10", 'station': '源泉'},
//                      {'cx':"201.277", 'cy':"285.984", 'r':"10", 'station': '濁水'},
//                      {'cx':"286.556", 'cy':"240.737", 'r':"10", 'station': '龍泉'},
//                      {'cx':"367.254", 'cy':"222.503", 'r':"10", 'station': '集集'},
//                      {'cx':"424.279", 'cy':"182.111", 'r':"10", 'station': '水里'},
//                      {'cx':"485.013", 'cy':"148.342", 'r':"10", 'station': '車埕'}];

// var data_gigi_line = [{'x1':"60.756", 'y1':"247.549", 'x2':"114.497", 'y2':"295.983"},
//                       {'x1':"132.755", 'y1':"301.621", 'x2':"192.313", 'y2':"290.403"},
//                       {'x1':"210.836", 'y1':"283.042", 'x2':"278.61", 'y2':"246.074"},
//                       {'x1':"296.043", 'y1':"237.58", 'x2':"358.464", 'y2':"227.274"},
//                       {'x1':"375.618", 'y1':"217.03", 'x2':"416.388", 'y2':"188.239"},
//                       {'x1':"432.604", 'y1':"176.574", 'x2':"476.074", 'y2':"152.805"}];                     

// var data_pinxi_cir =   [{'cx':"373.079", 'cy':"52.039", 'r':"15", 'station': '瑞芳'},
//                         {'cx':"457.47", 'cy':"147.771", 'r':"10", 'station': '猴硐'},
//                         {'cx':"438.208", 'cy':"234.503", 'r':"15", 'station': '三貂嶺'},
//                         {'cx':"348.771", 'cy':"296.438", 'r':"10", 'station': '大華'},
//                         {'cx':"262.746", 'cy':"333.745", 'r':"10", 'station': '十分'},
//                         {'cx':"218.77", 'cy':"360.105", 'r':"10", 'station': '望古'},
//                         {'cx':"166.597", 'cy':"383.104", 'r':"10", 'station': '嶺腳'},
//                         {'cx':"140.146", 'cy':"392.104", 'r':"10", 'station': '平溪'},
//                         {'cx':"72.627", 'cy':"403.245", 'r':"10", 'station': '菁桐'}];

// var data_pinxi_line =  [{'x1':"383.289", 'y1':"63.023", 'x2':"450.759", 'y2':"140.373"},
//                         {'x1':"457.47", 'y1':"157.77", 'x2':"442.916", 'y2':"220.262"},
//                         {'x1':"428.272", 'y1':"245.736", 'x2':"357.146", 'y2':"290.983"},
//                         {'x1':"339.646", 'y1':"300.517", 'x2':"271.493", 'y2':"328.903"},
//                         {'x1':"254.689", 'y1':"339.65", 'x2':"227.643", 'y2':"355.505"},
//                         {'x1':"209.541", 'y1':"363.956", 'x2':"175.833", 'y2':"379.271"},
//                         {'x1':"157.174", 'y1':"386.425", 'x2':"149.762", 'y2':"389.385"},
//                         {'x1':"130.619", 'y1':"393.245", 'x2':"82.627", 'y2':"401.351"}];


// var data_neiwan_cir =  [{'cx':"39.873", 'cy':"111.866", 'r':"20", 'station': '新竹'},
//                         {'cx':"81.78", 'cy':"77.815", 'r':"10", 'station': '北新竹'},
//                         {'cx':"108.452", 'cy':"102.567", 'r':"10", 'station': '千甲'},
//                         {'cx':"139.055", 'cy':"121.866", 'r':"10", 'station': '新莊'},
//                         {'cx':"176.443", 'cy':"129.191", 'r':"15", 'station': '竹中'},
//                         {'cx':"239.656", 'cy':"180.41", 'r':"10", 'station': '上員'},
//                         {'cx':"256.452", 'cy':"221.567", 'r':"10", 'station': '榮華'},
//                         {'cx':"284.756", 'cy':"255.559", 'r':"15", 'station': '竹東'},
//                         {'cx':"314.246", 'cy':"280.705", 'r':"10", 'station': '橫山'},
//                         {'cx':"335.605", 'cy':"318.902", 'r':"10", 'station': '九讚頭'},
//                         {'cx':"369.865", 'cy':"347.365", 'r':"10", 'station': '合興'},
//                         {'cx':"433.838", 'cy':"357.208", 'r':"10", 'station': '富貴'},
//                         {'cx':"496.346", 'cy':"368.209", 'r':"15", 'station': '內灣'}];

// var data_neiwan_line = [{'x1':"55.744", 'y1':"99.701", 'x2':"74.219", 'y2':"84.347"},
//                         {'x1':"89.341", 'y1':"84.347", 'x2':"101.395", 'y2':"95.484"},
//                         {'x1':"116.518", 'y1':"108.477", 'x2':"129.957", 'y2':"117.713"},
//                         {'x1':"148.597", 'y1':"124.865", 'x2':"161.443", 'y2':"127"},
//                         {'x1':"189.097", 'y1':"137.241", 'x2':"232.489", 'y2':"173.444"},
//                         {'x1':"244.014", 'y1':"189.41", 'x2':"252.675", 'y2':"212.307"},
//                         {'x1':"263.276", 'y1':"228.876", 'x2':"275.212", 'y2':"243.987"},
//                         {'x1':"296.173", 'y1':"264.938", 'x2':"306.937", 'y2':"273.896"},
//                         {'x1':"319.146", 'y1':"289.417", 'x2':"330.64", 'y2':"310.23"},
//                         {'x1':"342.069", 'y1':"326.525", 'x2':"361.498", 'y2':"341.893"},
//                         {'x1':"378.331", 'y1':"352.682", 'x2':"423.838", 'y2':"357.208"},
//                         {'x1':"443.838", 'y1':"358.679", 'x2':"481.346", 'y2':"365"}];               


var data_line =[{ //01
                 'neiwan':{'x1':"443.838", 'y1':"358.679", 'x2':"481.346", 'y2':"365", 'opacity':1},
                 'pinxi':{'x1':"157.174", 'y1':"386.425", 'x2':"149.762", 'y2':"389.385", 'opacity':1},
                 'gigi':{'x1':"480", 'y1':"-20", 'x2':"500", 'y2':"-40", 'opacity':0}, //out
                 'alisan':{'x1':"72.438", 'y1':"339.966", 'x2':"112.769", 'y2':"286.978", 'opacity':1}
                },
                { //02
                 'neiwan':{'x1':"378.331", 'y1':"352.682", 'x2':"423.838", 'y2':"357.208", 'opacity':1},
                 'pinxi':{'x1':"20", 'y1':"-30", 'x2':"30", 'y2':"-20", 'opacity':0}, //out
                 'gigi':{'x1':"432.604", 'y1':"176.574", 'x2':"476.074", 'y2':"152.805", 'opacity':1},
                 'alisan':{'x1':"215.242", 'y1':"191.324", 'x2':"250.018", 'y2':"181.771", 'opacity':1}
                },
                { //03
                 'neiwan':{'x1':"342.069", 'y1':"326.525", 'x2':"361.498", 'y2':"341.893", 'opacity':1},
                 'pinxi':{'x1':"457.47", 'y1':"157.77", 'x2':"442.916", 'y2':"220.262", 'opacity':1},
                 'gigi':{'x1':"60", 'y1':"480", 'x2':"100", 'y2':"500", 'opacity':0}, //out
                 'alisan':{'x1':"276.673", 'y1':"168.187", 'x2':"401.519", 'y2':"79.976", 'strokeDasharray':12, 'opacity':1}
                },
                { //04
                 'neiwan':{'x1':"319.146", 'y1':"289.417", 'x2':"330.64", 'y2':"310.23", 'opacity':1},
                 'pinxi':{'x1':"130.619", 'y1':"393.245", 'x2':"82.627", 'y2':"401.351", 'opacity':1},
                 'gigi':{'x1':"296.043", 'y1':"237.58", 'x2':"358.464", 'y2':"227.274", 'opacity':1},
                 'alisan':{'x1':"230", 'y1':"510", 'x2':"205", 'y2':"490", 'opacity':0} //out
                },
                { //05
                 'neiwan':{'x1':"296.173", 'y1':"264.938", 'x2':"306.937", 'y2':"273.896", 'opacity':1},
                 'pinxi':{'x1':"560", 'y1':"400", 'x2':"570", 'y2':"420", 'opacity':0}, //out
                 'gigi':{'x1':"60.756", 'y1':"247.549", 'x2':"114.497", 'y2':"295.983", 'opacity':1},
                 'alisan':{'x1':"124.354", 'y1':"270.695", 'x2':"197.508", 'y2':"200.465", 'opacity':1}
                },
                { //06
                 'neiwan':{'x1':"263.276", 'y1':"228.876", 'x2':"275.212", 'y2':"243.987", 'opacity':1},
                 'pinxi':{'x1':"383.289", 'y1':"63.023", 'x2':"450.759", 'y2':"140.373", 'opacity':1},
                 'gigi':{'x1':"210.836", 'y1':"283.042", 'x2':"278.61", 'y2':"246.074", 'opacity':1},
                 'alisan':{'x1':"555", 'y1':"55", 'x2':"540", 'y2':"30", 'opacity':0} //out
                },
                { //07
                 'neiwan':{'x1':"244.014", 'y1':"189.41", 'x2':"252.675", 'y2':"212.307", 'opacity':1},
                 'pinxi':{'x1':"-60", 'y1':"410", 'x2':"-45", 'y2':"425", 'opacity':0}, //out
                 'gigi':{'x1':"375.618", 'y1':"217.03", 'x2':"416.388", 'y2':"188.239", 'opacity':1},
                 'alisan':{'x1':"395", 'y1':"455", 'x2':"425", 'y2':"485", 'opacity':0} //out
                },
                { //08
                 'neiwan':{'x1':"189.097", 'y1':"137.241", 'x2':"232.489", 'y2':"173.444", 'opacity':1},
                 'pinxi':{'x1':"254.689", 'y1':"339.65", 'x2':"227.643", 'y2':"355.505", 'opacity':1},
                 'gigi':{'x1':"560", 'y1':"200", 'x2':"600", 'y2':"250", 'opacity':0}, //out
                 'alisan':{'x1':"416.68", 'y1':"81.251", 'x2':"424.292", 'y2':"92.715", 'opacity':1}
                },
                { //09
                 'neiwan':{'x1':"148.597", 'y1':"124.865", 'x2':"161.443", 'y2':"127", 'opacity':1},
                 'pinxi':{'x1':"490", 'y1':"455", 'x2':"505", 'y2':"470", 'opacity':0}, //out
                 'gigi':{'x1':"132.755", 'y1':"301.621", 'x2':"192.313", 'y2':"290.403", 'opacity':1},
                 'alisan':{'x1':"30", 'y1':"-60", 'x2':"5", 'y2':"-20", 'opacity':0} //out
                },
                { //10
                 'neiwan':{'x1':"116.518", 'y1':"108.477", 'x2':"129.957", 'y2':"117.713", 'opacity':1},
                 'pinxi':{'x1':"428.272", 'y1':"245.736", 'x2':"357.146", 'y2':"290.983", 'opacity':1},
                 'gigi':{'x1':"-60", 'y1':"370", 'x2':"-20", 'y2':"390", 'opacity':0}, //out
                 'alisan':{'x1':"453.114", 'y1':"67.294", 'x2':"465.747", 'y2':"69.056", 'opacity':1}
                },
                { //11
                 'neiwan':{'x1':"89.341", 'y1':"84.347", 'x2':"101.395", 'y2':"95.484", 'opacity':1},
                 'pinxi':{'x1':"209.541", 'y1':"363.956", 'x2':"175.833", 'y2':"379.271", 'opacity':1},
                 'gigi':{'x1':"360", 'y1':"-50", 'x2':"330", 'y2':"-25", 'opacity':0}, //out
                 'alisan':{'x1':"62.594", 'y1':"364.479", 'x2':"64.689", 'y2':"358.406", 'opacity':1}
                },
                { //12
                 'neiwan':{'x1':"55.744", 'y1':"99.701", 'x2':"74.219", 'y2':"84.347", 'opacity':1},
                 'pinxi':{'x1':"339.646", 'y1':"300.517", 'x2':"271.493", 'y2':"328.903", 'opacity':1},
                 'gigi':{'x1':"310", 'y1':"480", 'x2':"260", 'y2':"510", 'opacity':0}, //out
                 'alisan':{'x1':"434.985", 'y1':"92.715", 'x2':"440.09", 'y2':"75.629", 'opacity':1}
                },];




var data_cir = [{ //01
                 'neiwan':{'cx':"39.873", 'cy':"111.866", 'r':"20", 'station': '新竹', 'opacity':1, 'cardnum':0},
                 'pinxi':{'cx':"218.77", 'cy':"360.105", 'r':"10", 'station': '望古', 'opacity':1, 'cardnum':0},
                 'gigi':{'cx':"40", 'cy':"-30", 'r':"1", 'station': '', 'opacity':0}, //out
                 'alisan':{'cx':"475.704", 'cy':"69.977", 'r':"10", 'station':'祝山', 'opacity':1, 'cardnum':0}
                },
                { //02
                 'neiwan':{'cx':"81.78", 'cy':"77.815", 'r':"10", 'station': '北新竹', 'opacity':1, 'cardnum':0},
                 'pinxi':{'cx':"600", 'cy':"200", 'r':"1", 'station': '', 'opacity':0}, //out
                 'gigi':{'cx':"122.755", 'cy':"301.621", 'r':"10", 'station': '源泉', 'opacity':1, 'cardnum':0},
                 'alisan':{'cx':"206.084", 'cy':"195.341", 'r':"10", 'station':'交力坪', 'opacity':1, 'cardnum':0}
                },
                { //03
                 'neiwan':{'cx':"108.452", 'cy':"102.567", 'r':"10", 'station': '千甲', 'opacity':1, 'cardnum':0},
                 'pinxi':{'cx':"262.746", 'cy':"333.745", 'r':"10", 'station': '十分', 'opacity':1, 'cardnum':0},
                 'gigi':{'cx':"400", 'cy':"500", 'r':"1", 'station': '', 'opacity':0}, //out
                 'alisan':{'cx':"443.114", 'cy':"66.096", 'r':"10", 'station':'沼平', 'opacity':1, 'cardnum':0}
                },
                { //04
                 'neiwan':{'cx':"139.055", 'cy':"121.866", 'r':"10", 'station': '新莊', 'opacity':1, 'cardnum':0},
                 'pinxi':{'cx':"130", 'cy':"600", 'r':"1", 'station': '', 'opacity':0}, //out
                 'gigi':{'cx':"424.279", 'cy':"182.111", 'r':"10", 'station': '水里', 'opacity':1, 'cardnum':0},
                 'alisan':{'cx':"263.866", 'cy':"176", 'r':"15", 'station':'奮起湖', 'opacity':1, 'cardnum':0}
                },
                { //05
                 'neiwan':{'cx':"176.443", 'cy':"129.191", 'r':"15", 'station': '竹中', 'opacity':1, 'cardnum':12},
                 'pinxi':{'cx':"140.146", 'cy':"392.104", 'r':"10", 'station': '平溪', 'opacity':1, 'cardnum':0},
                 'gigi':{'cx':"600", 'cy':"30", 'r':"1", 'station': '', 'opacity':0}, //out
                 'alisan':{'cx':"429.639", 'cy':"101.156", 'r':"10", 'station':'阿里山', 'opacity':1, 'cardnum':0}
                },
                { //06
                 'neiwan':{'cx':"239.656", 'cy':"180.41", 'r':"10", 'station': '上員', 'opacity':1, 'cardnum':0},
                 'pinxi':{'cx':"348.771", 'cy':"296.438", 'r':"10", 'station': '大華', 'opacity':1, 'cardnum':0},
                 'gigi':{'cx':"140", 'cy':"600", 'r':"1", 'station': '', 'opacity':0}, //out
                 'alisan':{'cx':"550", 'cy':"450", 'r':"1", 'station': '', 'opacity':0} //out
                },
                { //07
                 'neiwan':{'cx':"256.452", 'cy':"221.567", 'r':"10", 'station': '榮華', 'opacity':1, 'cardnum':0},
                 'pinxi':{'cx':"166.597", 'cy':"383.104", 'r':"10", 'station': '嶺腳', 'opacity':1, 'cardnum':0},
                 'gigi':{'cx':"-40", 'cy':"60", 'r':"1", 'station': '', 'opacity':0}, //out
                 'alisan':{'cx':"409.639", 'cy':"74.155", 'r':"10", 'station':'神木', 'opacity':1, 'cardnum':0}
                },
                { //08
                 'neiwan':{'cx':"284.756", 'cy':"255.559", 'r':"15", 'station': '竹東', 'opacity':1, 'opacity':1, 'cardnum':0},
                 'pinxi':{'cx':"438.208", 'cy':"234.503", 'r':"15", 'station': '三貂嶺', 'opacity':1, 'opacity':1, 'cardnum':0},
                 'gigi':{'cx':"49.618", 'cy':"237.502", 'r':"15", 'station': '二水', 'opacity':1, 'opacity':1, 'cardnum':0},
                 'alisan':{'cx':"100", 'cy':"-30", 'r':"1", 'station': '', 'opacity':0} //out
                },
                { //09
                 'neiwan':{'cx':"314.246", 'cy':"280.705", 'r':"10", 'station': '橫山', 'opacity':1, 'cardnum':0},
                 'pinxi':{'cx':"373.079", 'cy':"52.039", 'r':"15", 'station': '瑞芳', 'opacity':1, 'cardnum':0},
                 'gigi':{'cx':"640", 'cy':"420", 'r':"1", 'station': '', 'opacity':0}, //out
                 'alisan':{'cx':"58.618", 'cy':"378.944", 'r':"15", 'station':'嘉義', 'opacity':1, 'cardnum':0}
                },
                { //10
                 'neiwan':{'cx':"335.605", 'cy':"318.902", 'r':"10", 'station': '九讚頭', 'opacity':1, 'cardnum':0},
                 'pinxi':{'cx':"72.627", 'cy':"403.245", 'r':"10", 'station': '菁桐', 'opacity':1, 'cardnum':0},
                 'gigi':{'cx':"367.254", 'cy':"222.503", 'r':"10", 'station': '集集', 'opacity':1, 'cardnum':0},
                 'alisan':{'cx':"340", 'cy':"-50", 'r':"1", 'station': '', 'opacity':0} //out
                },
                { //11
                 'neiwan':{'cx':"369.865", 'cy':"347.365", 'r':"10", 'station': '合興', 'opacity':1, 'cardnum':0},
                 'pinxi':{'cx':"240", 'cy':"-60", 'r':"1", 'station': '', 'opacity':0}, //out
                 'gigi':{'cx':"485.013", 'cy':"148.342", 'r':"10", 'station': '車埕', 'opacity':1, 'cardnum':0},
                 'alisan':{'cx':"68.618", 'cy':"349.209", 'r':"10", 'station':'北門', 'opacity':1, 'cardnum':0}
                },
                { //12
                 'neiwan':{'cx':"433.838", 'cy':"357.208", 'r':"10", 'station': '富貴', 'opacity':1, 'cardnum':0},
                 'pinxi':{'cx':"457.47", 'cy':"147.771", 'r':"10", 'station': '猴硐', 'opacity':1, 'cardnum':0},
                 'gigi':{'cx':"201.277", 'cy':"285.984", 'r':"10", 'station': '濁水', 'opacity':1, 'cardnum':0},
                 'alisan':{'cx':"-40", 'cy':"330", 'r':"1", 'station': '', 'opacity':0} //out
                },
                { //13
                 'neiwan':{'cx':"496.346", 'cy':"368.209", 'r':"15", 'station': '內灣', 'opacity':1, 'cardnum':0},
                 'pinxi':{'cx':"400", 'cy':"-30", 'r':"1", 'station': '', 'opacity':0}, //out
                 'gigi':{'cx':"286.556", 'cy':"240.737", 'r':"10", 'station': '龍泉', 'opacity':1, 'cardnum':0},
                 'alisan':{'cx':"118.657", 'cy':"278.909", 'r':"10", 'station':'竹崎', 'opacity':1, 'cardnum':0}
                }];

var arrow_data=["M105,50l21.5-20L105,10c-35.333,0-58,0-100,0v20v20 C46,50,70.334,50,105,50z", 
                "M214,50l21.5-20L214,10c-35.333,0-58,0-100,0l21.5,20L114,50 C155,50,179.333,50,214,50z", 
                "M323,50l21.5-20L323,10c-35.333,0-58,0-100,0l21.5,20L223,50 C264,50,288.334,50,323,50z", 
                "M432,50l21.5-20L432,10c-35.333,0-58,0-100,0l21.5,20L332,50 C373,50,397.334,50,432,50z", 
                "M541,50l21.5-20L541,10c-35.333,0-58,0-100,0l21.5,20L441,50 C482,50,506.334,50,541,50z"];


// var data_LMcards = [{"name":"十分瀑布", "branch":"內灣線", "station":"新竹", "type":"f_landscape", "subtitle":"中國政府預計今天將公布三","url":"http://static.wixstatic.com/media/136ba0_f3c12f6105854b299a341e55db273c5a.jpg_256", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"快樂島", "branch":"內灣線", "station":"新竹", "type":"f_eat", "subtitle":"中國當局日前拘留多名澳大利","url":"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcT9ZQLyK_0OI7GnRuJBEcIxMbiET0DUtdThJrmK7a_KsJ5ng1VtWw", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"客家村", "branch":"內灣線", "station":"北新竹", "type":"f_stay", "subtitle":"三星已宣布放棄Note 7在中國","url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqaDTjQ5-aA5TRD7olP3daE2itSTLsFdMFABsagArR4H608hoeKQ", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"五分埔", "branch":"內灣線", "station":"北新竹", "type":"f_activity", "subtitle":"後毛澤東時代的權力分享和制度化繼","url":"http://www.abbeyleixgolfclub.ie/15thAutumn.jpg", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"竹東東林業展示館", "branch":"內灣線", "station":"北新竹", "type":"f_stay", "subtitle":"三星已宣布放棄Note 7在中國","url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqaDTjQ5-aA5TRD7olP3daE2itSTLsFdMFABsagArR4H608hoeKQ", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"草地院活動", "branch":"內灣線", "station":"新竹", "type":"f_activity", "subtitle":"後毛澤東時代的權力分享和制度化繼","url":"http://www.abbeyleixgolfclub.ie/15thAutumn.jpg", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"天秤之家", "branch":"內灣線", "station":"新竹", "type":"f_landscape", "subtitle":"中國政府預計今天將公布三","url":"http://static.wixstatic.com/media/136ba0_f3c12f6105854b299a341e55db273c5a.jpg_256", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"超級無敵好棒武廟", "branch":"內灣線", "station":"北新竹", "type":"f_stay", "subtitle":"三星已宣布放棄Note 7在中國","url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqaDTjQ5-aA5TRD7olP3daE2itSTLsFdMFABsagArR4H608hoeKQ", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"蔬果市場", "branch":"內灣線", "station":"北新竹", "type":"f_activity", "subtitle":"後毛澤東時代的權力分享和制度化繼","url":"http://www.abbeyleixgolfclub.ie/15thAutumn.jpg", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"天堂路", "branch":"內灣線", "station":"北新竹", "type":"f_stay", "subtitle":"三星已宣布放棄Note 7在中國","url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqaDTjQ5-aA5TRD7olP3daE2itSTLsFdMFABsagArR4H608hoeKQ", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"活動地標", "branch":"內灣線", "station":"新竹", "type":"f_activity", "subtitle":"後毛澤東時代的權力分享和制度化繼","url":"http://www.abbeyleixgolfclub.ie/15thAutumn.jpg", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"快樂草原", "branch":"內灣線", "station":"新竹", "type":"f_landscape", "subtitle":"中國政府預計今天將公布三","url":"http://static.wixstatic.com/media/136ba0_f3c12f6105854b299a341e55db273c5a.jpg_256", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"平溪民宅", "branch":"平溪線", "station":"平溪", "type":"f_stay", "subtitle":"三星已宣布放棄Note 7在中國","url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqaDTjQ5-aA5TRD7olP3daE2itSTLsFdMFABsagArR4H608hoeKQ", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"集集樂遊", "branch":"集集線", "station":"集集", "type":"f_activity", "subtitle":"後毛澤東時代的權力分享和制度化繼","url":"http://www.abbeyleixgolfclub.ie/15thAutumn.jpg", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"阿里山民宿", "branch":"阿里山線", "station":"阿里山", "type":"f_stay", "subtitle":"三星已宣布放棄Note 7在中國","url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqaDTjQ5-aA5TRD7olP3daE2itSTLsFdMFABsagArR4H608hoeKQ", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"平溪天燈", "branch":"平溪線", "station":"平溪", "type":"f_activity", "subtitle":"後毛澤東時代的權力分享和制度化繼","url":"http://www.abbeyleixgolfclub.ie/15thAutumn.jpg", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"集集小火車", "branch":"集集線", "station":"集集", "type":"f_landscape", "subtitle":"中國政府預計今天將公布三","url":"http://static.wixstatic.com/media/136ba0_f3c12f6105854b299a341e55db273c5a.jpg_256", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"特生中心", "branch":"集集線", "station":"集集", "type":"f_eat", "subtitle":"中國當局日前拘留多名澳大利","url":"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcT9ZQLyK_0OI7GnRuJBEcIxMbiET0DUtdThJrmK7a_KsJ5ng1VtWw", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"山蕉產銷中心", "branch":"集集線", "station":"集集", "type":"f_stay", "subtitle":"三星已宣布放棄Note 7在中國","url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqaDTjQ5-aA5TRD7olP3daE2itSTLsFdMFABsagArR4H608hoeKQ", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"香蕉蛋捲屋", "branch":"集集線", "station":"集集", "type":"f_activity", "subtitle":"後毛澤東時代的權力分享和制度化繼","url":"http://www.abbeyleixgolfclub.ie/15thAutumn.jpg", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"火龍果農地", "branch":"集集線", "station":"集集", "type":"f_stay", "subtitle":"三星已宣布放棄Note 7在中國","url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqaDTjQ5-aA5TRD7olP3daE2itSTLsFdMFABsagArR4H608hoeKQ", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"繽紛豪大大民宿", "branch":"阿里山線", "station":"阿里山", "type":"f_stay", "subtitle":"三星已宣布放棄Note 7在中國","url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqaDTjQ5-aA5TRD7olP3daE2itSTLsFdMFABsagArR4H608hoeKQ", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"溪邊抓泥鰍", "branch":"平溪線", "station":"瑞芳", "type":"f_activity", "subtitle":"後毛澤東時代的權力分享和制度化繼","url":"http://www.abbeyleixgolfclub.ie/15thAutumn.jpg", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"日出觀景台", "branch":"阿里山線", "station":"阿里山", "type":"f_landscape", "subtitle":"中國政府預計今天將公布三","url":"http://static.wixstatic.com/media/136ba0_f3c12f6105854b299a341e55db273c5a.jpg_256", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"懷舊小吃部", "branch":"平溪線", "station":"瑞芳", "type":"f_eat", "subtitle":"中國當局日前拘留多名澳大利","url":"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcT9ZQLyK_0OI7GnRuJBEcIxMbiET0DUtdThJrmK7a_KsJ5ng1VtWw", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"貓窩居", "branch":"平溪線", "station":"猴硐", "type":"f_stay", "subtitle":"三星已宣布放棄Note 7在中國","url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqaDTjQ5-aA5TRD7olP3daE2itSTLsFdMFABsagArR4H608hoeKQ", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100}];
        


var my_LMcards = [];
// var my_LMcards = [{"name":"快樂島", "branch":"內灣線", "station":"新竹", "type":"f_eat", "subtitle":"中國當局日前拘留多名澳大利","url":"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcT9ZQLyK_0OI7GnRuJBEcIxMbiET0DUtdThJrmK7a_KsJ5ng1VtWw", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"天堂路", "branch":"內灣線", "station":"北新竹", "type":"f_stay", "subtitle":"三星已宣布放棄Note 7在中國","url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqaDTjQ5-aA5TRD7olP3daE2itSTLsFdMFABsagArR4H608hoeKQ", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"活動地標", "branch":"內灣線", "station":"新竹", "type":"f_activity", "subtitle":"後毛澤東時代的權力分享和制度化繼","url":"http://www.abbeyleixgolfclub.ie/15thAutumn.jpg", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"快樂草原", "branch":"內灣線", "station":"新竹", "type":"f_landscape", "subtitle":"中國政府預計今天將公布三","url":"http://static.wixstatic.com/media/136ba0_f3c12f6105854b299a341e55db273c5a.jpg_256", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"天秤之家", "branch":"內灣線", "station":"新竹", "type":"f_landscape", "subtitle":"中國政府預計今天將公布三","url":"http://static.wixstatic.com/media/136ba0_f3c12f6105854b299a341e55db273c5a.jpg_256", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100},
//                 {"name":"超級無敵好棒武廟", "branch":"內灣線", "station":"北新竹", "type":"f_stay", "subtitle":"三星已宣布放棄Note 7在中國","url":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqaDTjQ5-aA5TRD7olP3daE2itSTLsFdMFABsagArR4H608hoeKQ", "avgcost":300, "staycost1":1200, "staycost2":2200, "staycost4":3600, "staycostadd1":500, "adultcost":300, "childcost":100}];






// -------------------------------------------------------------------------------------------
var storage = sessionStorage;
//收藏包的內容物 轉換到 my_LMcards
// storage.setItem('wishList','黑貓包,護城河親水公園,'); //測試用

if(storage['wishList']){
        var name_arr = storage['wishList'].slice(0,-1).split(',');
        name_arr.map(cv=>{
                var obj = data_LMcards.find(el=>el.name == cv);
                if(obj)my_LMcards.push(obj);
        });
}
// console.log(my_LMcards);


// -------------------------------------------------------------------------------------------
//  my_LMcards 有的地標,  data_LMcards 也有的話要移除
my_LMcards.map((cv,i)=>{
        data_LMcards.map((cv2,i2)=>{
        if(cv.name==cv2.name){data_LMcards.splice(i2,1)}
        });
});










// -------------------------------------------------------------------------------------------
//套裝行程 或 遊記 轉換成 自由行

//storage.setItem('transfer_to_free_by_TRno',21); //測試用
//storage.setItem('modify_myfree_by_TRno',2); //測試用



//修改行程 一定要先登入會員
if(!storage["MEM_no"] && storage['modify_myfree_by_TRno']){ //未登入 且 要修改行程

        // ============================================
        alert('修改行程需要先登入好遊會員!');

        // 儲存來源資訊:
        storage.setItem('G1_whereAmIFrom','free.php');
        location.href ='memlogin.php';  //有需要轉頁面再加這行

}


var transfer_LMcards = []; //移除的儲存區, 也就是匯入的行程的地標卡資料

if(storage['transfer_to_free_by_TRno'] || storage['modify_myfree_by_TRno']){

        var trno;

        if(storage['transfer_to_free_by_TRno']){

                trno = parseInt(storage['transfer_to_free_by_TRno']);

        }else if(storage['modify_myfree_by_TRno']){

                trno = parseInt(storage['modify_myfree_by_TRno']);

        }

        var the_lmtr = fakelmtr.filter(cv=>cv.TR_no==trno);

        //套裝行程 或 遊記 有的地標, data_LMcards/my_LMcards 也有的話要移除
        the_lmtr.map((cv,i)=>{
            my_LMcards.map((cv2,i2)=>{
                if(cv.LM_no==cv2.LM_no){
                        my_LMcards.splice(i2,1);
                        transfer_LMcards.push(cv2);
                }
            });
        });
        the_lmtr.map((cv,i)=>{
            data_LMcards.map((cv2,i2)=>{
                if(cv.LM_no==cv2.LM_no){
                        data_LMcards.splice(i2,1);
                        transfer_LMcards.push(cv2);
                }
            });
        });
}

// console.log(transfer_LMcards);


